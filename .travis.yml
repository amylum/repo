sudo: required
dist: trusty
services:
- docker
install:
- openssl aes-256-cbc -K $encrypted_92d63f57b850_key -iv $encrypted_92d63f57b850_iv
  -in .repo_key.gpg.enc -out .repo_key.gpg -d
- 'echo "Prospectus: $GITHUB_CREDS" >> .octoauth.yml'
- gpg --import < .repo_key.gpg
- sudo chown -R 501:501 .
- sudo chown -R 501:501 ~/.gnupg
- sudo chmod 777 .
script: make docker-build
deploy:
  provider: script
  script: make docker-upload || travis_terminate 1
  skip_cleanup: true
  on:
    branch: master
notifications:
  email: false
  slack:
    secure: ZeAmoPGNeFKQLN0VHFXlGVZ+rY8Itmg3K6/F2ug2GJy7/ohK4l3te5okkm/EE+qqMQYFZorky5JmiEYtZfQKGCvBEf5Ag5+bxYRnzeCuvHvmXt4w4MHjq7QhykaTLnwtPDa/AR/qgyOIH/asbOZ0+ntvViCAh29eK4f/5xLcRZJajF/ocaeHy33WwpeMEZnZ8L/JwdoHUA9XZ/Nzq3DrFTkIxZHwB/Sh3rABquIr7kaofEcp7hOt7hMzsA4+nTWuZ5zobCjB1EEl0DHJmXOMxiqeYuJY9kj9uTMsOLXVsNfTVkBM1YjuQGJjC9mX8JWbqL6XpuDKf/nBVN0ignjT+1AZ8T3nrp3yk6YFx0llMHl3RwZsnT9e+06s8kG493rnvz8lnDd/TDwbOFfTLUhzKymBz7do3WAfu3rQLJhbOb8nzt4UbZ1ZfPLcQeNy+heAz0seywV3FZrRjiCg51fCPtvjJuWcGtO4WnembtzG2Rq8R9ACM/laZAXJzp16XiQ9E8CmA4nC1ANYvmaPWFVePaKm9clt/QAK3kYUohnYTtbOMEyyzSoUnHoeUJuEJDiE6yfxBqGj51flpXM5UmPRfO2l8SBw+DyKoSnd6Xr03XNOB7zGx9qB8yY56DCAFkybMaDdcZ8QSHWfMEhzrNsb9hecB9lHP9T6vVHDVouBcss=
env:
  global:
  - secure: PvYv/jxjTm8Sd+pqFaIAp85tO/RjS0DW5NczBF5ypJkTVxXkO0DouS0i/90n45cx6voWF9XOTSkMX8XsnHmZ/pkcsnx+9n6GM9a0g9EyKoIwr0lxXO+is/2vLMORn8q/wehvBYPVE3df4NgiUU9uv670fKz03TtoTMx+GDz+/5zMMZEF1MPdUaFxyD+hHXS3kAiDYJaWrypwDN2ZPsl1FwCW9nc5E8qKtj4kzxfdPxmOYQPGx9O36lM13XfqnDACNCUi23C9VO6fETWEJR/GJMvweVUu2g3+uuLJniYMLFDyVFvRcfjj/QTQRfCPsVnF8yYTiIuE8r3RR2NDwtKr8ooLOiskO907JEzkpecMY6qTUZ+Ade0X0ss6fEQo7c2vpqUftwe4tgXg8hWEIRCHteb1+FPjiwpW+8sEw7qHPfQ9fhSfz2Ma/kvCgO/478QMlfVmFUQLCl8/YXNUuMXAmFwjCWPWzzrcwimV8vflHFpVW0g0EW5JtRA+rJV9xxxMeD7Awg3UKpE2gI3eAEwHFDkGCIv5xVXy6cHBRRTElEUx7q+SLWrX1eVi/zCoS8RaBc3SEl5YDixsm3kfH3n1EVeJJUxA/0Zo6KZuLCnFWuQP2r+MeDT0K3qqf+qrMz1q0/rlAcctAiDd5O7MSEbfQT1X71lqgT1XBKMjWk43XZg=
  - secure: iB6iEM5B7/n0yal7Pa1yqY3w36TvhXd3wguzvZxC1YY2dKY/LJw4Roct+2l4K0abCPqg3nQxTTZzWpTyQoLRowh7cd37P229Uv4YtfPJnzUSjSeQWemgHTYGnKMJ20RRzBWZI9SyIx4TMNECw2qbaMgZ4fFl+SsUQAJDQ+vjX/1/og4GIVrq9zG1sLmWROWv0GdvySbocKHXtIVN63JnFUSZAikpNbiMjqmyBGCWNn85WQffbkdLMB0b5T4CNOKTLlXXkke7VEmr4e3N2WLeX9y3N/IjqgHVVNihZ7sVj1Lx4BlUjKTzqZS/U9eJkLJh5lFmXkQxxoKL4MY6oMXrOuCElskt05U11ezLgloGiWwv9AL4dGFW3PVsPIOXAOpp6jJkccqDvaXPo/3FheBieDUUT28hurS1fRfUPiRbG4SxVu9RNPUmAbDSW03Kf/VLOlLrm+UkHzioRan9OCUsNafH957mw8bJEGdYYW9LDfjWYQ/FZEvwLW44XnoygZUBkMF9KN1fV4I1BbXY9xQXm2zew77gD06sc3LjYKBJ0suupA6D5M+sO6dOk6cxFOiN1DNmPgY8pT/c6+9kEbDHiOuQA9IZQ9PmIJxZPHfENzyRD8C+nobVYspM9P7DnxgdmDZnlUhcMWSHYnNv9idgPbaVE+ca222AhEAkY+V07FI=
  - secure: hxH3SRnMlX1KyOYocQ83lgHY1n5jis9p13kaqkoGttoS7oxGbefEZiLH73U7IPezU6T/5K1whyKe2WF32eXep69ea+A3Eyit8wY8pfxh92lslY7HXKSp8/LObAjmnNPDbm0XVYqp5rquvaJfQeZXfddWGR3thqF00mrOa4qfVIGD1vBY0DmkB8FcOR7i6wRli7C/eO+IvET6VNHIgk8Evp7FHWegRUtpXbMDNIiL0Opzrta8T7GPgwlF9w2glXkcWyhAwq5Eby+LevwrZ+WWhcUwZGPVOD1SO5K9JSgP6fckuQAC8+ZiUO1GrRYwnvnoEB4B/E9ub4pHF6G5okm1Kyh9FQv2eoMvPzmSrHgyuuQOlOS5FlaTzfmSyihkSumx3nQFMD7d+krmGTu+s9B6HqkSqwi+L5yUCrwJNr8CDCYkkTVRzBATOtBEHW/L/l0L8S8wvNhXGwKJzPuIXXvU9T0YOCA3geREDbgdMgdgzf8PB7+43hLSVDV659Ec7faAWp7OT9svz/oVHzUXco04KgYLwZPjfwa8bPY8nRO6uVFUKs8xzPvK/7tQ69HlDbpjMa2LDNaJQZB7jT/bMtjXCBsUCd4+UfUZIZju5STTtvifnZivJmkLCHcCuzNGEqmc6qo1lU1ON4xq2LatkalXADSgFCOurfwm0kSIz8IC9VQ=
  - secure: e+DVRZo6zYa9qECWulPmvOaJafqd8mgR3Rx3KqFs452GiTD8Dk/gYOOyS7U9v9OvkB7UN9glaU91mBxr010QLdZ+NRH8Ozn9KebRReSLhb5yrwMT55MxQFwUdsDeL3z+CxHeK4WT24S5DldkXEJEYXkWdcMxye3CJY1xZPbTIpXHpN0TbUgQCTXCsQ77+5mFgB3v6S5dax4xyr/UP5uo+K7Z+NeOjeCFYZ42BsAL9Jm6428LIz4Iy8mOimBZSlKGMPV6JgNDWDkamBvGzH2Ea1UkrZapUhuzhhbZl6B0Tn20Oth+mkXflxu7InpXtrzeQfelhqrQBnXr692EsEVK76qrrzyQqI3LiSj55KxTryb9fz7rrRTtq15TcVV8fjKdMgWsEQQJhxqRZmN530hGd8sudjSLCc2mQyMc2gHG7mDdt1UjrR4m12RnwmRwTA1Q4I/j521c1HItASvthdcJUrltKu7xubzbKH2W9pYeUMQg58iWYdhZ3Hs5HmZLiZ3U3PEcNXDCXstuTVsXPsYMm5KGGXmtYY3cSkcviM4aK7+u9yWpHT7/APDVWpRF6Qr4wikZA0c3fsjo7CQeIA360tqxOyYuoronYZs5ByMdVP3kvlFDzcrZ4SnF5OFZgktVqsV4kqTkClwDN71Z8SSjs9FCLiktE2iyNepur+1KyYI=
  - secure: dQ8iTzkE+mDmcbu4CxGZ/CA+HVUR8KTrTgH67GGdrLmO0At3TsGSas90LHkzXoDKTeTz29buk3xT+rfBw5IGULbqC4cUHCVKxRVdOoxpet11N022c0cSXjmBDPjsEVNgq3bNVSITbJhmM6PqBpGLf5EK0d45u/kB6Db6sPrmc3QLgwTHwzgGSg2ScUSDM0Erh982e48/m/H2/F1Z+6LWNTk/DWY9O6tofqXmpDFb2mjuYy5N2u0zYD1bDxl4B4nhnpFwWkgO9KM/7LK/SZkMpweDu6J38HUSrvrf6bddU6VN4pXy80/041pySEJvuFbzvSgTKjq+a3eVBkspnR7sBDiOO+ZOXkPxS880xhHd0zBiXCFSUMMUA3ouTuCTeXBv56gi8z5KC81wSEYS9CUctztelycJev3GWGjAqDZuwU1P1LWEVJdQLfrLeO/jy2yNJnRn9hOa8Nho165i6uBDws1/AJg63lSNIM1U3PrnZmukiPF4X6t/7alOc8P/qqO9dxoAtjzS5MyF/68mVxwfGIztgaeed0FfHUo8QzlPibHlAc8dnmLLBJSKTrngqWZCeg1L8Ygbi+xjBSblSG3m/OtvNzGrTHEv8ZaQi6Ii181lBZ/QvEb1uF1Ro/vVde3N16ZFh5rYUyZBXNecvB4jxIkEHNmQykKzUTx2Zi1j9zs=
